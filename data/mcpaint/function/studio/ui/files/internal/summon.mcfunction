$summon text_display ~ ~ ~ {Rotation:$(rotation),Tags:["mcpaint.entity","mcpaint.studio","mcpaint.studio.text_display","mcpaint.studio.text_display.highlightable.text_opacity","mcpaint.studio.ui_element","mcpaint.studio.ui_element.parent","mcpaint.studio.ui_element.files"],background:0,line_width:10000,transformation:$(transformation),text_opacity:-30b,alignment:"left",text:'{"text":"\\u1001\\u0303","color":"white","font":"mcpaint:studio_ui"}',Passengers:[\
{id:"minecraft:marker",Tags:["mcpaint.entity","mcpaint.studio","mcpaint.studio.ui_element","mcpaint.studio.ui_element.child","mcpaint.studio.ui_element.files"]},\
{id:"minecraft:text_display",Rotation:$(rotation),Tags:["mcpaint.entity","mcpaint.studio","mcpaint.studio.ui_element","mcpaint.studio.ui_element.child","mcpaint.studio.ui_element.files.child","mcpaint.studio.ui_element.files.page_index"],background:0,line_width:10000,transformation:$(page_index_transform)},\
{id:"minecraft:text_display",Rotation:$(rotation),Tags:["mcpaint.entity","mcpaint.studio","mcpaint.studio.ui_element","mcpaint.studio.ui_element.child","mcpaint.studio.ui_element.files.child","mcpaint.studio.ui_element.files.filenames"],background:0,line_width:10000,transformation:$(filenames_transform),alignment:"left"},\
{id:"minecraft:text_display",Rotation:$(rotation),Tags:["mcpaint.entity","mcpaint.studio","mcpaint.studio.ui_element","mcpaint.studio.ui_element.child","mcpaint.studio.ui_element.files.child","mcpaint.studio.ui_element.files.selected"],background:0,line_width:10000,transformation:$(selected_transform)},\
{id:"minecraft:text_display",Rotation:$(rotation),Tags:["mcpaint.entity","mcpaint.studio","mcpaint.studio.ui_element","mcpaint.studio.ui_element.child","mcpaint.studio.ui_element.files.child","mcpaint.studio.ui_element.files.canvas"],background:0,line_width:10000,transformation:$(canvas_origin)}\
]}

data merge entity @e[type=text_display,tag=mcpaint.studio.ui_element.files,distance=..0.1,limit=1] {transformation:{scale:[0.625f,0.625f,0.625f]},start_interpolation:0,interpolation_duration:5}
data merge entity @e[type=text_display,tag=mcpaint.studio.ui_element.files.page_index,distance=..0.1,limit=1] {transformation:{scale:[0.375f,0.375f,0.375f]},start_interpolation:0,interpolation_duration:5}
data merge entity @e[type=text_display,tag=mcpaint.studio.ui_element.files.filenames,distance=..0.1,limit=1] {transformation:{scale:[0.375f,0.375f,0.375f]},start_interpolation:0,interpolation_duration:5}
data merge entity @e[type=text_display,tag=mcpaint.studio.ui_element.files.selected,distance=..0.1,limit=1] {transformation:{scale:[0.375f,0.375f,0.375f]},start_interpolation:0,interpolation_duration:5}

data modify entity @e[type=text_display,tag=mcpaint.studio.ui_element.files.page_index,distance=..0.1,limit=1] text set value '{"translate":"mcpaint.format.page_n_of","with":[{"storage":"mcpaint:calc","nbt":"internal.studio.ui.data.selected_page"},{"storage":"mcpaint:calc","nbt":"internal.studio.ui.data.pages"}],"color":"white"}'
data modify entity @e[type=text_display,tag=mcpaint.studio.ui_element.files.filenames,distance=..0.1,limit=1] text set value '{"text":"","extra":[{"font":"mcpaint:studio_ui","text":"\\u2256\\n"},{"storage":"mcpaint:calc","nbt":"internal.studio.ui.data.filenames[]","separator":"\\n"}],"color":"white"}'

execute as @e[type=text_display,tag=mcpaint.studio.ui_element.files,distance=..0.1,limit=1] run function mcpaint:studio/internal/ui/spawn_element/apply_values